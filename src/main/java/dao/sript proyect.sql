CREATE DATABASE ODONTOLOGIA;
USE ODONTOLOGIA;
CREATE TABLE PUESTO(
ID_PUESTO INT AUTO_INCREMENT,
DES_PUESTO VARCHAR (80) NOT NULL,
CONSTRAINT PK_PUESTO PRIMARY KEY(ID_PUESTO)
);
CREATE TABLE TRABAJADOR(
ID_TRABAJADOR INT AUTO_INCREMENT,
NOM VARCHAR (80) NOT NULL,
PRIMER_APE VARCHAR (80) NOT NULL,
SEGUNDO_APE VARCHAR (80) NOT NULL,
FECHA_NACIMIENTO VARCHAR(80) NOT NULL,
ID_PUESTO INT NOT NULL,
EMAIL VARCHAR (80) NOT NULL,
CELULAR DECIMAL(10,0) NOT NULL,
FECHA_INGRESO DATE NOT NULL,
SUELDO DECIMAL(18,2) NOT NULL,
USERNAME VARCHAR(50) NOT NULL,
CONTRASENA VARCHAR(80) NOT NULL,
CONSTRAINT PK_TRABAJADOR PRIMARY KEY (ID_TRABAJADOR),
CONSTRAINT FK_TRAB_PUEST foreign key(ID_PUESTO) references PUESTO (ID_PUESTO)
);
CREATE TABLE PACIENTE(
ID_PACIENTE INT AUTO_INCREMENT NOT NULL,
NOMBRE VARCHAR (80),
PRIMER_APE VARCHAR (80) NOT NULL,
SEGUNDO_APE VARCHAR (80) NOT NULL,
EMAIL VARCHAR (80) NOT NULL,
CELULAR DECIMAL(10,0) NOT NULL,
FECHA_REGISTRO DATE NOT NULL,
CONSTRAINT PK_PACIENTE PRIMARY KEY(ID_PACIENTE)
);
CREATE TABLE ESTADO(
ID_ESTADO INT AUTO_INCREMENT,
DES_ESTADO VARCHAR (80) NOT NULL,
CONSTRAINT PK_ESTADO PRIMARY KEY(ID_ESTADO)
);
CREATE TABLE RESERVA(
ID_RE INT AUTO_INCREMENT NOT NULL,
ID_PACIENTE INT NOT NULL,
FECHA DATE NOT NULL,
HORA TIME NOT NULL,
ID_ESTADO INT,
PRECIO DECIMAL(10, 2),
CONSTRAINT PK_RESERVA PRIMARY KEY(ID_RE),
CONSTRAINT FK_RE_PAC FOREIGN KEY(ID_PACIENTE) REFERENCES PACIENTE(ID_PACIENTE),
CONSTRAINT FK_RE_ES FOREIGN KEY (ID_ESTADO) REFERENCES ESTADO(ID_ESTADO)
);
CREATE TABLE CITA(
ID_CITA INT AUTO_INCREMENT NOT NULL,
ID_RE INT NOT NULL,
ID_PACIENTE INT NOT NULL,
ID_TRABAJADOR INT NOT NULL,
SALA INT,
CONSTRAINT FK_CITA_TRAB FOREIGN KEY(ID_TRABAJADOR) REFERENCES TRABAJADOR (ID_TRABAJADOR),
CONSTRAINT FK_CITA_PAC FOREIGN KEY(ID_PACIENTE) REFERENCES PACIENTE (ID_PACIENTE),
CONSTRAINT FK_CITA_RE FOREIGN KEY (ID_RE) REFERENCES RESERVA(ID_RE),
CONSTRAINT PK_CITA PRIMARY KEY (ID_CITA)
);
CREATE TABLE HISTORIAL(
ID_HIST INT auto_increment NOT NULL,
ID_PACIENTE INT NOT NULL,
DESCRIPCION VARCHAR(500),
FECHA DATE NOT NULL,
ID_TRABAJADOR INT,
CONSTRAINT FK_HIST_PAC FOREIGN KEY(ID_PACIENTE) REFERENCES PACIENTE (ID_PACIENTE),
CONSTRAINT FK_HIST_TRAB FOREIGN KEY(ID_TRABAJADOR) REFERENCES TRABAJADOR (ID_TRABAJADOR),
CONSTRAINT PK_HIST PRIMARY KEY (ID_HIST)
);
INSERT INTO PUESTO (DES_PUESTO) VALUES('Odontólogo(a) Estético'),('Odontólogo(a) Preventiva'),('Odontólogo(a) Infantil'),('Recepcionista');
INSERT INTO TRABAJADOR (NOM, PRIMER_APE,SEGUNDO_APE,FECHA_NACIMIENTO,ID_PUESTO,EMAIL,CELULAR,FECHA_INGRESO,SUELDO,USERNAME,CONTRASENA) 
VALUES('JEFFERSON','PANTA','RUIZ','2003-12-20',1,'pantaj@gmail.com',982747292,CURDATE(),3000,'PANTAX','PANTAX123'),
('Jesus','Natividad','Toribio','2002-09-10',2,'JesusNat@gmail.com',967435143,'2020-01-01',2500,'NATJES','NATJES123'),
('Antony','Lipe','Vivanco','2001-05-10',3,'lipeviv@gmail.com',765342651,'2018-05-05',3000,'ALARAKO','ARALAKO123'),
('Harold','Chavez','Nats','2000-01-13',4,'NatsM@gmail.com',912303184,'2022-03-01',1500,'NATSFIT','NATSFIT123');

-- Ejemplo 1
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Juan', 'Gómez', 'Pérez', '1990-05-15', 1, 'juan@gmail.com', 555123456, '2020-01-01', 50000.00, 'juanito', 'contrasena1');

-- Ejemplo 2
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('María', 'López', 'Rodríguez', '1985-08-22', 2, 'maria@gmail.com', 555987654, '2019-02-01', 60000.00, 'marialo', 'contrasena2');

-- Ejemplo 3
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Pedro', 'Ramírez', 'Hernández', '1992-11-10', 1, 'pedro@gmail.com', 555555123, '2020-03-01', 55000.00, 'pedrito', 'contrasena3');

-- Ejemplo 4
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Laura', 'Fernández', 'Díaz', '1988-04-28', 2, 'laura@gmail.com', 555333444, '2018-08-01', 70000.00, 'lauraf', 'contrasena4');

-- Ejemplo 5
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Ricardo', 'Pérez', 'Luna', '1995-06-17', 1, 'ricardo@gmail.com', 555999888, '2021-04-01', 65000.00, 'ricardop', 'contrasena5');

-- Ejemplo 6
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Carmen', 'Sánchez', 'Ortega', '1987-09-03', 2, 'carmen@gmail.com', 555777666, '2017-10-01', 75000.00, 'carmens', 'contrasena6');

-- Ejemplo 7
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Javier', 'Díaz', 'Fuentes', '1990-12-22', 1, 'javier@gmail.com', 555111222, '2019-12-01', 60000.00, 'javierd', 'contrasena7');

-- Ejemplo 8
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Isabel', 'López', 'Mendoza', '1984-03-14', 2, 'isabel@gmail.com', 555444333, '2018-06-01', 80000.00, 'isabell', 'contrasena8');

-- Ejemplo 9
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Miguel', 'Gómez', 'Vega', '1993-02-05', 1, 'miguel@gmail.com', 555666777, '2020-09-01', 70000.00, 'miguelg', 'contrasena9');

-- Ejemplo 10
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Luisa', 'Hernández', 'Castro', '1989-07-08', 2, 'luisa@gmail.com', 555222111, '2019-03-01', 90000.00, 'luisah', 'contrasena10');

-- Ejemplo 11
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Roberto', 'Fuentes', 'Rojas', '1996-04-12', 1, 'roberto@gmail.com', 555666999, '2022-01-01', 85000.00, 'robertof', 'contrasena11');

-- Ejemplo 12
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Gabriela', 'Mendoza', 'Pérez', '1986-11-18', 2, 'gabriela@gmail.com', 555333222, '2017-05-01', 100000.00, 'gabrielam', 'contrasena12');

-- Ejemplo 13
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Hugo', 'Vega', 'Gómez', '1997-09-27', 1, 'hugo@gmail.com', 555888777, '2023-03-01', 95000.00, 'hugov', 'contrasena13');

-- Ejemplo 14
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Patricia', 'Ortega', 'Sánchez', '1983-12-09', 2, 'patricia@gmail.com', 555222333, '2018-08-01', 110000.00, 'patriciao', 'contrasena14');

-- Ejemplo 15
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Alejandro', 'Castro', 'López', '1994-06-03', 1, 'alejandro@gmail.com', 555777888, '2021-04-01', 105000.00, 'alejandroc', 'contrasena15');

-- Ejemplo 16
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Silvia', 'Mendoza', 'Hernández', '1982-03-17', 2, 'silvia@gmail.com', 555111444, '2017-11-01', 120000.00, 'silviam', 'contrasena16');

-- Ejemplo 17
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Martín', 'Pérez', 'Fuentes', '1991-08-01', 1, 'martin@gmail.com', 555444555, '2022-05-01', 115000.00, 'martinp', 'contrasena17');

-- Ejemplo 18
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Verónica', 'García', 'Díaz', '1980-05-24', 2, 'veronica@gmail.com', 555999111, '2016-12-01', 130000.00, 'veronicag', 'contrasena18');

-- Ejemplo 19
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Daniel', 'Luna', 'Gutiérrez', '1998-02-28', 1, 'daniel@gmail.com', 555222444, '2023-01-01', 125000.00, 'danielg', 'contrasena19');

-- Ejemplo 20
INSERT INTO TRABAJADOR (NOM, PRIMER_APE, SEGUNDO_APE, FECHA_NACIMIENTO, ID_PUESTO, EMAIL, CELULAR, FECHA_INGRESO, SUELDO, USERNAME, CONTRASENA)
VALUES ('Sofía', 'Rodríguez', 'Martínez', '1981-10-10', 2, 'sofia@gmail.com', 555666222, '2017-09-01', 140000.00, 'sofiar', 'contrasena20');

INSERT INTO PACIENTE (NOMBRE, PRIMER_APE,SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO) VALUES('MARCELO','CARRASCO','GARCIA','CARRASCO@GMAIL.COM',987456423,CURDATE());
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE,SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO) VALUES('Harold','Chavez','Nats','NatsFitness@GMAIL.COM',987654321,CURDATE());
-- Ejemplo 1
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Carlos', 'Gutiérrez', 'López', 'carlos@gmail.com', 555123456, '2023-01-03');

-- Ejemplo 2
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Ana', 'Martínez', 'García', 'ana@gmail.com', 555987654, '2023-01-04');

-- Ejemplo 3
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Pedro', 'Ramírez', 'Hernández', 'pedro@gmail.com', 555555123, '2023-01-05');

-- Ejemplo 4
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Laura', 'Fernández', 'Díaz', 'laura@gmail.com', 555333444, '2023-01-06');

-- Ejemplo 5
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Ricardo', 'Pérez', 'Luna', 'ricardo@gmail.com', 555999888, '2023-01-07');

-- Ejemplo 6
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Carmen', 'Sánchez', 'Ortega', 'carmen@gmail.com', 555777666, '2023-01-08');

-- Ejemplo 7
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Javier', 'Díaz', 'Fuentes', 'javier@gmail.com', 555111222, '2023-01-09');

-- Ejemplo 8
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Isabel', 'López', 'Mendoza', 'isabel@gmail.com', 555444333, '2023-01-10');

-- Ejemplo 9
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Miguel', 'Gómez', 'Vega', 'miguel@gmail.com', 555666777, '2023-01-11');

-- Ejemplo 10
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Luisa', 'Hernández', 'Castro', 'luisa@gmail.com', 555222111, '2023-01-12');

-- Ejemplo 11
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Roberto', 'Fuentes', 'Rojas', 'roberto@gmail.com', 555666999, '2023-01-13');

-- Ejemplo 12
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Gabriela', 'Mendoza', 'Pérez', 'gabriela@gmail.com', 555333222, '2023-01-14');

-- Ejemplo 13
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Hugo', 'Vega', 'Gómez', 'hugo@gmail.com', 555888777, '2023-01-15');

-- Ejemplo 14
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Patricia', 'Ortega', 'Sánchez', 'patricia@gmail.com', 555222333, '2023-01-16');

-- Ejemplo 15
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Alejandro', 'Castro', 'López', 'alejandro@gmail.com', 555777888, '2023-01-17');

-- Ejemplo 16
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Silvia', 'Mendoza', 'Hernández', 'silvia@gmail.com', 555111444, '2023-01-18');

-- Ejemplo 17
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Martín', 'Pérez', 'Fuentes', 'martin@gmail.com', 555444555, '2023-01-19');

-- Ejemplo 18
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Verónica', 'García', 'Díaz', 'veronica@gmail.com', 555999111, '2023-01-20');

-- Ejemplo 19
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Daniel', 'Luna', 'Gutiérrez', 'daniel@gmail.com', 555222444, '2023-01-21');

-- Ejemplo 20
INSERT INTO PACIENTE (NOMBRE, PRIMER_APE, SEGUNDO_APE, EMAIL, CELULAR, FECHA_REGISTRO)
VALUES ('Sofía', 'Rodríguez', 'Martínez', 'sofia@gmail.com', 5556662222, '2023-01-22');
INSERT INTO ESTADO (DES_ESTADO) VALUES ('ACTIVA'),('ANULADA');
INSERT INTO RESERVA (ID_PACIENTE,FECHA,HORA,ID_ESTADO,PRECIO) VALUES(1,'2023-11-15','14:00',1,30);
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (1, '2023-01-01', '08:00:00', 1, 50.00);

-- Ejemplo 2
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (2, '2023-01-02', '09:30:00', 2, 60.00);

-- Ejemplo 3
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (3, '2023-01-03', '10:45:00', 1, 55.00);

-- Ejemplo 4
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (4, '2023-01-04', '11:15:00', 2, 70.00);

-- Ejemplo 5
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (5, '2023-01-05', '13:00:00', 1, 65.00);

-- Ejemplo 6
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (6, '2023-01-06', '14:30:00', 2, 75.00);

-- Ejemplo 7
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (7, '2023-01-07', '15:45:00', 1, 60.00);

-- Ejemplo 8
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (8, '2023-01-08', '16:30:00', 2, 80.00);

-- Ejemplo 9
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (9, '2023-01-09', '17:15:00', 1, 70.00);

-- Ejemplo 10
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (10, '2023-01-10', '18:00:00', 2, 90.00);

-- Ejemplo 11
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (11, '2023-01-11', '19:30:00', 1, 85.00);

-- Ejemplo 12
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (12, '2023-01-12', '20:15:00', 2, 100.00);

-- Ejemplo 13
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (13, '2023-01-13', '21:00:00', 1, 95.00);

-- Ejemplo 14
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (14, '2023-01-14', '22:30:00', 2, 110.00);

-- Ejemplo 15
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (15, '2023-01-15', '23:45:00', 1, 105.00);

-- Ejemplo 16
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (16, '2023-01-16', '12:00:00', 2, 120.00);

-- Ejemplo 17
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (17, '2023-01-17', '13:45:00', 1, 115.00);

-- Ejemplo 18
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (18, '2023-01-18', '14:30:00', 2, 130.00);

-- Ejemplo 19
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (19, '2023-01-19', '15:15:00', 1, 125.00);

-- Ejemplo 20
INSERT INTO RESERVA (ID_PACIENTE, FECHA, HORA, ID_ESTADO, PRECIO)
VALUES (20, '2023-01-20', '16:30:00', 2, 140.00);
--------------------------------------------------------------------
INSERT INTO CITA (ID_RE,ID_PACIENTE,ID_TRABAJADOR,SALA) VALUES(1,1,11,2);
INSERT INTO CITA (ID_RE,ID_PACIENTE,ID_TRABAJADOR,SALA) VALUES(2,2,2,2);
INSERT INTO CITA (ID_RE,ID_PACIENTE,ID_TRABAJADOR,SALA) VALUES(3,3,5,2);
INSERT INTO CITA (ID_RE,ID_PACIENTE,ID_TRABAJADOR,SALA) VALUES(4,4,5,2);
INSERT INTO CITA (ID_RE,ID_PACIENTE,ID_TRABAJADOR,SALA) VALUES(5,5,1,2);
INSERT INTO CITA (ID_RE,ID_PACIENTE,ID_TRABAJADOR,SALA) VALUES(6,6,1,2);
INSERT INTO CITA (ID_RE,ID_PACIENTE,ID_TRABAJADOR,SALA) VALUES(7,7,6,3);
INSERT INTO CITA (ID_RE,ID_PACIENTE,ID_TRABAJADOR,SALA) VALUES(8,8,17,3);
INSERT INTO CITA (ID_RE,ID_PACIENTE,ID_TRABAJADOR,SALA) VALUES(9,9,16,3);
INSERT INTO CITA (ID_RE,ID_PACIENTE,ID_TRABAJADOR,SALA) VALUES(10,10,15,3);
INSERT INTO CITA (ID_RE,ID_PACIENTE,ID_TRABAJADOR,SALA) VALUES(11,11,14,1);
INSERT INTO CITA (ID_RE,ID_PACIENTE,ID_TRABAJADOR,SALA) VALUES(12,12,13,1);
INSERT INTO CITA (ID_RE,ID_PACIENTE,ID_TRABAJADOR,SALA) VALUES(13,13,12,1);
INSERT INTO CITA (ID_RE,ID_PACIENTE,ID_TRABAJADOR,SALA) VALUES(14,14,11,4);
INSERT INTO CITA (ID_RE,ID_PACIENTE,ID_TRABAJADOR,SALA) VALUES(15,15,10,5);
INSERT INTO CITA (ID_RE,ID_PACIENTE,ID_TRABAJADOR,SALA) VALUES(16,16,9,5);
INSERT INTO HISTORIAL (ID_PACIENTE,DESCRIPCION,FECHA,ID_TRABAJADOR) VALUES(1,'Curación de 2 dientes de nivel leve','2023-11-15',2);


delimiter //
create  procedure validaAcceso(IN usuariop VARCHAR(50),IN contrasenap VARCHAR(50))
begin
    SELECT ID_TRABAJADOR
	,NOM
	,PRIMER_APE
    ,SEGUNDO_APE
    ,FECHA_NACIMIENTO
    ,ID_PUESTO
    ,EMAIL
    ,CELULAR
    ,FECHA_INGRESO
    ,SUELDO
    ,USERNAME
    ,CONTRASENA FROM TRABAJADOR
     where USERNAME=usuariop and CONTRASENA=contrasenap;
end
//

call validaAcceso('PANTAX','PANTAX123');

SELECT C.ID_CITA, C.ID_RE, R.FECHA, R.HORA,CONCAT (P.NOMBRE,' ',P.PRIMER_APE,' ',P.SEGUNDO_APE) AS PACIENTE, 
CONCAT (T.NOM,' ',T.PRIMER_APE,' ',T.SEGUNDO_APE) AS TRABAJADOR, 
CASE T.ID_PUESTO 
WHEN 1 THEN 'Odontólogo(a) Estético' 
WHEN 2 THEN 'Odontólogo(a) Preventiva' 
WHEN 3 THEN 'Odontólogo(a) Infantil' 
ELSE 'Recepcionista'
END
AS PUESTO, C.SALA
FROM PACIENTE P
JOIN RESERVA R ON P.ID_PACIENTE=R.ID_PACIENTE
JOIN CITA C ON R.ID_RE=C.ID_RE
JOIN TRABAJADOR T ON C.ID_TRABAJADOR=T.ID_TRABAJADOR;
SELECT *FROM RESERVA;
SELECT *FROM PACIENTE;
SELECT *FROM PACIENTE WHERE ID_PACIENTE=1;


SELECT ID_TRABAJADOR ,NOM	,PRIMER_APE,SEGUNDO_APE, FECHA_NACIMIENTO,ID_PUESTO,
		CASE ID_PUESTO	
			WHEN 1 THEN 'Odontólogo(a) Estético' 
			WHEN 2 THEN 'Odontólogo(a) Preventiva' 
			WHEN 3 THEN 'Odontólogo(a) Infantil' 
		ELSE 'Recepcionista'
END AS PUESTO ,EMAIL  ,CELULAR ,FECHA_INGRESO ,SUELDO  ,USERNAME,CONTRASENA
FROM TRABAJADOR;

SELECT ID_TRABAJADOR,NOM	,PRIMER_APE ,SEGUNDO_APE, FECHA_NACIMIENTO ,ID_PUESTO,CASE ID_PUESTO 
WHEN 1 THEN 'Odontólogo(a) Estético' 
WHEN 2 THEN 'Odontólogo(a) Preventiva'
WHEN 3 THEN 'Odontólogo(a) Infantil'
ELSE 'Recepcionista' 
END AS PUESTO ,
EMAIL  ,CELULAR ,FECHA_INGRESO  ,SUELDO ,USERNAME,CONTRASENA  FROM TRABAJADOR WHERE ID_TRABAJADOR=1;
SELECT *FROM HISTORIAL;
SELECT H.ID_HIST, H.ID_PACIENTE, CONCAT (P.NOMBRE,' ',P.PRIMER_APE,' ',P.SEGUNDO_APE) AS PACIENTE, H.DESCRIPCION,
		H.FECHA, H.ID_TRABAJADOR, CONCAT (T.NOM,' ',T.PRIMER_APE,' ',T.SEGUNDO_APE) AS TRABAJADOR
FROM PACIENTE P
INNER JOIN HISTORIAL H ON P.ID_PACIENTE=H.ID_PACIENTE
INNER JOIN TRABAJADOR T ON H.ID_TRABAJADOR=T.ID_TRABAJADOR
WHERE H.ID_PACIENTE=1

SELECT *FROM HISTORIAL	  
